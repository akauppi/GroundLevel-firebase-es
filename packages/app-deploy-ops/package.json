{
  "name": "@local/app-deploy-ops",
  "description": "Front end (operations)",
  "license": "MIT",
  "private": true,
  "type": "module",
  "engines": {
    "node": ">=14.3 || 16"
  },
  "scripts": {
    "test": ">&2 echo \"No tests here. Tests are run in development projects (../app and ../backend).\"; false",
    "lint": "eslint src",
    "build": "npm run -s build:roll",
    "  -": "",
    "watch": "concurrently --kill-others-on-fail --handle-input --default-input-target -n roll,host \"npm run -s _watchRoll\" \"npm run serve\"",
    "_watchRoll": "npm run -s _prepRoll && rollup -c roll/rollup.config.js -w",
    "  - ": "",
    "build:roll": "npm run -s _prepRoll && rollup -c roll/rollup.config.js",
    "  - -": "",
    "_prepRoll": "rm -rf roll/out/* && npm run -s _prepBuildWorker && npm run -s _prepCopy",
    "_prepBuildWorker": "rollup -c roll/rollup.config.worker.js",
    "_prepCopy": "cp node_modules/@local/app/dist/favicon.* node_modules/@local/app/dist/*.css roll/out/",
    "  - --": "",
    "serve": "docker compose run --rm host-launched && echo \"✅ Application served at: http://localhost:3012\n\"",
    "  - -- ": "",
    "ci:build:fake": "echo \"export default { }\" > ../../firebase.fake.js && ENV=fake RAYGUN_API_KEY=x npm run -s build",
    "ci:build": "sh/gen-firebase-ci.sh > ../../firebase.ci.js && ENV=ci npm run build",
    "ci:deploy": "firebase deploy --only hosting",
    "- -": "",
    "//build:vite": "vite build -c vite/vite.config.js",
    "-- ": "",
    "prebuild": "npm run -s _checkEnv",
    "_checkEnv": "[ -f ../../firebase.${ENV-staging}.js ] || ( >&2 echo \"ERROR: Please create config file '../../firebase.${ENV-staging}.js' - see README.\n\"; false)",
    "//_checkPortIsFree": "port-is-free $PORT || ( >&2 echo \"ERROR: Port '$PORT' is taken!\n\"; false)",
    "-- - -": "",
    "klean": "rm -rf roll/out/*"
  },
  "dependencies": {
    "@firebase/app": "file:../../node_modules/@firebase/app",
    "@firebase/auth": "file:../../node_modules/@firebase/auth",
    "@firebase/functions": "file:../../node_modules/@firebase/functions",
    "@local/app": "file:../app",
    "raygun4js": "^2.22.5"
  },
  "devDependencies": {
    "@atomico/rollup-plugin-sizes": "^1.1.4",
    "@local/tools": "file:../../tools",
    "@rollup/plugin-alias": "^3.1.5",
    "@rollup/plugin-node-resolve": "^13.0.4",
    "@rollup/plugin-replace": "^3.0.0",
    "concurrently": "^6.2.1",
    "eslint": "file:../../node_modules/eslint",
    "eslint-plugin-node": "file:../../node_modules/eslint-plugin-node",
    "rollup": "^2.56.3",
    "rollup-plugin-analyzer": "^4.0.0",
    "rollup-plugin-terser": "^7.0.2",
    "rollup-plugin-visualizer": "^5.5.2"
  },
  "//devDependencies": {
    "vite": "^2.4.3"
  },
  "//comments": {
    "scripts": {
      "postbuild:roll": [
        "We _could_ use a Rollup plugin for copying (and watching) public files, but now, since only one CSS file,",
        "mere copy at each build is enough. (public/*.css)"
      ],
      "serve:*": [
        "\"The new recommended way of [..'firebase serve'] is via the firebase emulators:start command.\"",
        "(in a GitHub Issue comments). That is great - more cohesive with the other sub-packages."
      ]
    },
    "dependencies": {
      "[@]rollup...": [
        "Needed for 'build:rollup'"
      ],
      "vite": [
        "Needed for 'build:vite'"
      ]
    },
    "engines.node": [
      "'>=14.3' for '—harmony-top-level-await' (not used)",
      "'>=13.2' for ES module support"
    ]
  }
}
