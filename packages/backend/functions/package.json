{
  "name": "functions",
  "private": true,
  "type": "module",
  "engines": {
    "node": "16"
  },
  "files": [
    "src/**/*.js",
    "index.js"
  ],
  "dependencies": {
    "@google-cloud/logging": "^10.0.2",
    "firebase-admin": "^10.2.0",
    "firebase-functions": "^3.21.2"
  },
  "scripts": {
    "preinstall": "npm run -s _checkCloudFunctions",
    "_checkCloudFunctions": "[ ! -z $BUILDER_OUTPUT ] || ( >&2 echo \"You don't need to do 'npm install' in this folder.\"; false )"
  },
  "//": {
    "engines.node": [
      "Firebase emulators require the field to be plain '16'. We run it under DC, using Node 18. This causes a warning,",
      "but doesn't seem harmful."
    ],
    "scripts": {
      "preinstall": [
        "We only need 'npm install' to run within (and by) Cloud Functions. Here are some env.vars it defines:", [
          "GOOGLE_RUNTIME=nodejs16",
          "GOOGLE_CONTAINER_MEMORY_HINT_MB=256",
          "X_GOOGLE_TARGET_PLATFORM=gcf",
          "BUILDER_OUTPUT=/builder/outputs",
          "GOOGLE_FUNCTION_TARGET=cloudLoggingProxy_v0"
        ]
      ]
    }
  }
}
