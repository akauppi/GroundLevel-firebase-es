{
  "name": "functions",
  "private": true,
  "type": "module",
  "engines": {
    "node": "16"
  },
  "dependencies": {
    "@google-cloud/firestore": "^6.4.0",
    "firebase-admin": "^11.2.0",
    "firebase-functions": "^4.0.1"
  },
  "scripts": {
    "preinstall": "npm run -s _checkEnv",
    "_checkEnv": "[ ! -z $BUILDER_OUTPUT$NO_GUARD ] || ( >&2 echo \"You don't need to do 'npm install' in this folder.\"; false )"
  },
  "//": {
    "engines.node": [
      "Firebase emulators require the field to be plain '16'. We run it under DC, using Node 18. This causes a warning,",
      "but doesn't seem harmful."
    ],
    "dependencies": {
      "@google-cloud/firestore": [
        "Optional dep of 'firebase-admin'. Need to include it since we use Firestore."
      ]
    },
    "scripts": {
      "_checkEnv": [
        "Guards again the developer locally running 'npm install'. Actual use cases:",
        "- manual deployment (first/*; DC)",
        "- CI (deployment)",
        "- Cloud Functions (runtime)"
      ]
    }
  }
}
